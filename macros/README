//*****************************************************************
// DOMINANT Macro directory
// 20060302 Kotoyo Hoshina
//*****************************************************************

*----------------------------------------------------------
* How to make macros for DOM acceptance table
*----------------------------------------------------------

To make macros for DOM acceptance table, follow these instructions

   0) Make output data dir. Dirname must be "dominant_dir".
      $ export $JUPITERROOT=<your dominant build directory>
      $ mkdir -p $JUPITERROOT/dominant_data
      If you have old data under $JUPITERROOT/dominant_data, they
      will be overwritten.

	1) Modify MakeAcceptanceMacro.C. You can change beam spot
	   size(kRADIUS, note that it's NOT diameter) and 
	   prefix of output macro file name(kFNAME).

	2) To make angle acceptance macros, Type
	   $ root -l
	   .L MakeAcceptanceMacro.C
	   GenerateAngleMacros(int wavelen_in_nm)

	2) To make wavelength acceptance macros, Type
	   $ root -l
	   .L MakeAcceptanceMacro.C
	   GenerateWavelengthMacros(int angle_in_deg)

then you will get bunch of <your prefix>_XXXdeg_XXXnm.g4mac file.

To make shell scripts for NPX server, run

$ sh makeNPXshell.sh

it generates bunch of shell scripts under $JUPITERROOT.

<your prefix>_XXXdeg_XXXnm.g4mac.pbs

*----------------------------------------------------------
* How to generate acceptance data
*----------------------------------------------------------

Just execute <your prefix>_XXXdeg_XXXnm.g4mac.pbs
at your computer or cluster.

	
*----------------------------------------------------------
* Descriptions of each macros
*----------------------------------------------------------

* manybeamOn_100evt_1000bunch.g4mac [g4 macro]
	This g4macro submits 1000 runs and each run has 100 
	events(beam shots). DOMINANT outputs the arrival position
	of injected photons at PMT cathode so that users can
	count the efficiency of the run as (n_reached_photons)/100.
	This macro is automatically generated by MakeManyBeamOnMacro.C.

* manybeamOn_1000evt_1000bunch.g4mac [g4 macro]
	This g4macro submits 1000 runs and each run has 1000 
	events(beam shots). DOMINANT outputs the arrival position
	of injected photons at PMT cathode so that users can
	count the efficiency of the run as (n_reached_photons)/1000.
	It takes 10 times more CPU time than above macro, so it's
	special macro for very low efficiency part.
	This macro is automatically generated by MakeManyBeamOnMacro.C.

* MakeManyBeamOnMacro.C [root macro]
	This is ROOT macro to generate G4 macro file.
	It generates a macro which repeats

	/jupiter/run/SetRunNumber i
	/run/beamOn 1000

	where i is the index of repeated bunches.



